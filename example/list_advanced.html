<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contidio Widget Basic Example</title>
    <link href="_example.css" rel="stylesheet" />
</head>
<body>

<div class="placeholder-block contidio-center-wrapper">
    <span class="contidio-center-content">Your Page Content/Header</span>
</div>

<!-- BEGIN: EXAMPLE HELPER CODE -->
<script>
    function getParameterByName(name) {
        var url = window.location.href;
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    }
    var uuid = getParameterByName("cw-uuid") || false;
    var type = getParameterByName("cw-type") || false;

    var exampleUrl = (uuid && type) ? "https://mdidx.contidio.com/api/v1/"+type+"s/"+uuid+(type == "folder" ? "/childs" : "")+"/anonymous/?flags=145340470544642&locale=en" : "https://mdidx.contidio.com/api/v1/searchEntities/anonymous/?flags=145340470544642&startIndex=0&count=48&orderBy=2&orderDirection=2&recursive=1&types=1,2,3";
</script>
<!-- END: EXAMPLE HELPER CODE -->

<!-- BEGIN: Contidio widget container -->
<div class="contidio-widget"></div>
<!-- END: Contidio widget container -->

<!-- BEGIN: Contidio renderer (customize if needed) -->
<link href="../renderer/default/styles.css" rel="stylesheet"/>
<script src="../renderer/default/renderer.js"></script>
<!-- END: Contidio renderer -->

<!-- BEGIN: Conditio widget snippet -->
<script>
    var contidioOptions = {
        beforeRender: function(items){

            for(var i = 0; i < items.length; i++){

                items[i].url = (items[i].type == "folder" ? "list_advanced" : "detail" )+".html?cw-uuid="+items[i].uuid+"&cw-type="+items[i].type;

                items[i].category = "Trends & Markt";
                if(!items[i].author){
                    items[i].author = "John Doe";
                }
                items[i].authorImage = "https://www.celum.com/cache/image/40x40-bb8b01f48c3d724fdc8416d6781cc7c7-1494836249.jpg";
            }

        },
        translations: {
            detailLink: "Ansehen"
        },
        onListClickTarget: "_self",
        afterRender: function(items){

        },
        /* example for loading detail view in widget */
        /*onListClick: function(item, widget, event){
            if(event){
                event.preventDefault();
            }

            widget.fetchUrl("https://mdidx.contidio.com/api/v1/assets/"+item.uuid+"/anonymous/?flags=145340470544642&locale=en");
        },*/
        url: exampleUrl
    }
</script>
<script src="../dist/contidio-widget.js" async defer></script>
<!-- END: Contidio widget snippet -->

<div class="placeholder-block contidio-center-wrapper">
    <span class="contidio-center-content">Your Page Content/Footer</span>
</div>

</body>
</html>
